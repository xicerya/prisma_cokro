<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PRISMA COKRO</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&family=Rajdhani:wght@300;400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header class="app-header">
  <div>
    <h1>Dashboard Analisis Risiko Privasi</h1>
    <p class="subtitle">Sistem Evaluasi Risiko Privasi berdasarkan Likelihood–Impact Matrix</p>
  </div>

  <a href="../index.html" class="btn-primary">KEMBALI</a>
</header>

  <main class="app-main">
    <section class="card">
      <h2>1. Input Parameter Pemrosesan Data</h2>
      <form id="risk-form" class="form-grid">
        <div class="form-group">
          <label for="scenarioName">Nama Skenario</label>
          <input type="text" id="scenarioName" placeholder="Contoh: Verifikasi identitas pengguna baru" />
        </div>

        <div class="form-group">
          <label for="dataType">Jenis Data Pribadi Utama</label>
          <select id="dataType" required>
            <option value="">-- Pilih jenis data --</option>
            <option value="identitas">Data identitas (Nama, NIK, alamat)</option>
            <option value="biometrik">Data biometrik (wajah, sidik jari, suara)</option>
            <option value="keuangan">Data keuangan (rekening, kartu, transaksi)</option>
            <option value="lokasi">Data lokasi</option>
            <option value="perilaku">Data perilaku / penggunaan aplikasi</option>
            <option value="lainnya">Lainnya / kombinasi</option>
          </select>
        </div>

        <div class="form-group">
          <label for="processingActivity">Aktivitas Pemrosesan Dominan</label>
          <select id="processingActivity" required>
            <option value="">-- Pilih aktivitas --</option>
            <option value="collection">Collection (pengumpulan data)</option>
            <option value="storage">Storage (penyimpanan data)</option>
            <option value="sharing">Sharing (berbagi ke pihak lain)</option>
            <option value="transmission">Transmission (pengiriman data)</option>
            <option value="deletion">Deletion (penghapusan data)</option>
          </select>
        </div>

        <div class="form-group">
          <label>Apakah melibatkan pihak ketiga (vendor / cloud / processor)?</label>
          <div class="inline-options">
            <label><input type="radio" name="thirdParty" value="yes" /> Ya</label>
            <label><input type="radio" name="thirdParty" value="no" checked /> Tidak</label>
          </div>
        </div>

        <div class="form-group">
          <label for="encryption">Mekanisme Enkripsi</label>
          <select id="encryption" required>
            <option value="">-- Pilih jenis enkripsi --</option>
            <option value="none">Tidak ada enkripsi khusus</option>
            <option value="at_rest">Enkripsi saat disimpan (at rest)</option>
            <option value="in_transit">Enkripsi saat dikirim (in transit)</option>
            <option value="both">Enkripsi at rest &amp; in transit</option>
          </select>
        </div>

        <div class="form-group">
          <label for="accessControl">Kontrol Akses</label>
          <select id="accessControl" required>
            <option value="">-- Pilih jenis akses --</option>
            <option value="none">Tidak ada kontrol akses formal</option>
            <option value="basic">Dasar (username/password saja)</option>
            <option value="role_based">Role-based / least privilege</option>
          </select>
        </div>

        <div class="form-group">
          <label>Apakah tujuan pemrosesan data dijelaskan secara eksplisit?</label>
          <div class="inline-options">
            <label><input type="radio" name="purposeSpecified" value="yes" checked /> Ya</label>
            <label><input type="radio" name="purposeSpecified" value="no" /> Tidak</label>
          </div>
        </div>

        <div class="form-group">
          <label for="consentType">Jenis Persetujuan (Consent)</label>
          <select id="consentType" required>
            <option value="">-- Pilih jenis persetujuan --</option>
            <option value="none">Tidak ada consent spesifik</option>
            <option value="implicit">Implicit (syarat &amp; ketentuan umum)</option>
            <option value="explicit">Explicit (checkbox / persetujuan jelas)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="incidentResponsePlan">Rencana Respons Insiden</label>
          <select id="incidentResponsePlan" required>
            <option value="">-- Pilih rencana respons --</option>
            <option value="not_available">Tidak tersedia</option>
            <option value="documented">Ada, terdokumentasi</option>
            <option value="tested_regularly">Ada dan diuji berkala</option>
          </select>
        </div>

        <div class="form-group">
          <label>Mode Penentuan Likelihood &amp; Impact</label>
          <div class="inline-options">
            <label><input type="radio" name="modeLI" value="auto" checked /> Otomatis dari Rule Engine (Direkomendasikan)</label>
            <label><input type="radio" name="modeLI" value="manual" /> Diisi Manual</label>
          </div>
        </div>

        <div class="form-group form-group--half">
          <label for="likelihood">Likelihood (1–5)</label>
          <input type="number" id="likelihood" min="1" max="5" placeholder="Opsional, jika memilih otomatis dari rule engine" />
        </div>

        <div class="form-group form-group--half">
          <label for="impact">Impact (1–5)</label>
          <input type="number" id="impact" min="1" max="5" placeholder="Opsional, jika memilih otomatis dari rule engine" />
        </div>

        <div class="form-actions">
          <button type="submit" class="btn-primary">Hitung Risiko</button>
          <button type="reset" class="btn-secondary" id="reset-btn">Reset</button>
        </div>
      </form>
    </section>

    <section class="results-grid">
      <article class="card" id="summary-card">
        <h2>2. Ringkasan Risiko</h2>
        <div id="summary-content" class="summary-content placeholder">
          Isi formulir di atas kemudian klik <strong>Hitung Risiko</strong> untuk melihat hasil analisis.
        </div>
      </article>

      <article class="card">
        <h2>3. Matriks Likelihood–Impact</h2>
        <div id="matrix-legend">
          <span class="legend low">Rendah</span>
          <span class="legend medium">Sedang</span>
          <span class="legend high">Tinggi</span>
        </div>
        <div id="risk-matrix" class="risk-matrix"></div>
        <p class="matrix-caption">
          Sumbu vertikal: Impact (1–5), Sumbu horizontal: Likelihood (1–5). Kotak berwarna gelap
          menunjukkan posisi risiko skenario saat ini.
        </p>
      </article>

      <article class="card">
        <h2>4. Evaluasi Kepatuhan UU PDP 2022</h2>
        <div id="pdp-results" class="table-wrapper placeholder">
          Belum ada data. Jalankan analisis terlebih dahulu.
        </div>
      </article>

      <article class="card">
        <h2>5. Pemetaan ke NIST CSF 2.0</h2>
        <div id="nist-results" class="table-wrapper placeholder">
          Belum ada data. Jalankan analisis terlebih dahulu.
        </div>
      </article>

      <article class="card">
        <h2>6. Rekomendasi Otomatis</h2>
        <div id="recommendations" class="table-wrapper placeholder">
          Belum ada rekomendasi. Jalankan analisis terlebih dahulu.
        </div>
      </article>
    </section>
  </main>

  <footer class="app-footer">
    <p>
      Prototype sistem analisis risiko privasi – dapat digunakan sebagai artefak implementasi
      dalam skripsi.
    </p>
  </footer>

  <script src="js/rules.js"></script>
  <script src="js/riskEngine.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
